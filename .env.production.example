# Production Environment Configuration Template
# =============================================
# Copy this file to .env.production and fill in the values
# IMPORTANT: Never commit .env.production to version control!

# Environment
ENVIRONMENT=production
NODE_ENV=production

# Docker Registry Configuration
DOCKER_REGISTRY=ghcr.io
DOCKER_NAMESPACE=wonbyte/fantastic-octo-memory
VERSION=latest

# Port Configuration
BACKEND_PORT=8080
AI_SERVICE_PORT=8000
FRONTEND_PORT=80

# Database Configuration (PostgreSQL)
# IMPORTANT: Change these values for production!
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=construction_platform_prod
POSTGRES_USER=platform_user_prod
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# Database Pool Configuration
DB_MAX_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5

# Redis Configuration
# IMPORTANT: Set a strong password for production!
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# MinIO S3 Storage Configuration
# IMPORTANT: Change these values for production!
MINIO_ROOT_USER=CHANGE_ME_TO_STRONG_USERNAME
MINIO_ROOT_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
S3_BUCKET=blueprints
S3_REGION=us-east-1

# Service URLs (Internal)
BACKEND_URL=http://backend:8080
AI_SERVICE_URL=http://ai_service:8000

# Frontend Configuration (External URLs)
# Update these with your actual production URLs
EXPO_PUBLIC_API_URL=https://api.yourdomain.com
EXPO_PUBLIC_AI_SERVICE_URL=https://ai.yourdomain.com

# Authentication Configuration
# IMPORTANT: Generate a secure random secret!
# Use: openssl rand -base64 32
JWT_SECRET=GENERATE_SECURE_RANDOM_SECRET_HERE
JWT_TOKEN_EXPIRY=24h

# Service Configuration
AI_SERVICE_TIMEOUT=30s
S3_PRESIGN_EXPIRY=5m
JOB_POLL_INTERVAL=5s
WORKER_MAX_RETRIES=3

# Logging
LOG_LEVEL=INFO

# Error Tracking (Optional)
# Sign up at sentry.io and get your DSN
SENTRY_DSN=

# External Services (if using managed services instead of Docker)
# Uncomment and configure if using external database/redis/s3
# DATABASE_URL=postgres://user:password@host:5432/dbname?sslmode=require
# REDIS_URL=redis://:password@host:6379/0
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY=your_aws_access_key
# S3_SECRET_KEY=your_aws_secret_key
# S3_USE_PATH_STYLE=false
